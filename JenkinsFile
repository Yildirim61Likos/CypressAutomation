//declarative style

pipeline {
    agent any

    options {
        ansiColor('xterm') // Enable colored console output
    }

    stages {
        stage('Building') {
            steps {
                echo 'Building the project...'
                // Install dependencies (Windows command)
                bat 'npm install'
            }
        }
        stage('Testing') {
            steps {
                echo 'Running Cypress tests...'
                // Run Cypress tests (Windows command)
                bat 'npx cypress run'
            }
        }
        stage('Deploying') {
            steps {
                echo 'Deploying the project...'
                // Add deployment commands for Windows here
                bat 'echo Deploy step - Add your commands here'
            }
        }
    }

    post {
        always {
            echo 'Cleaning up workspace...'
            cleanWs() // Clean the workspace after the pipeline
        }
    }
}
